parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"VCqk":[function(require,module,exports) {
module.exports=function(n,e){var t=1e3/e,o=Date.now(),r=!1;return function e(){requestAnimationFrame(e);var a=Date.now(),u=a-o;u>t&&!r&&(o=a-u%t,n(a))}(),function(){r=!0}};
},{}],"556b":[function(require,module,exports) {
"use strict";function r(r){var e=document.createElement("canvas"),a=e.getContext("2d");return function(t,o){return e.width=t,e.height=o,r.forEach(function(r){a.globalCompositeOperation="source-over";var e=a.createRadialGradient(r.x,r.y,0*r.radius,r.x,r.y,2.5*r.radius);e.addColorStop(0,"rgba(".concat(r.color.join(", "),", 1)")),e.addColorStop(1,"rgba(".concat(r.color.join(", "),", 0)")),a.fillStyle=e,a.fillRect(r.x-2.5*r.radius,r.y-2.5*r.radius,5*r.radius,5*r.radius),a.fillRect(r.x-2.5*r.radius,r.y-2.5*r.radius,5*r.radius,5*r.radius)}),e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createGradientDrawer=r;
},{}],"K0yk":[function(require,module,exports) {
"use strict";function t(t,e){return(e-t)*Math.random()+t}function e(t,e,r,a){return Math.hypot(t-r,e-a)}function r(t,e,r,a){var n=r-t||1e-4,o=a-e||1e-4;return 1.426776695*Math.min(.7071067812*(Math.abs(n)+Math.abs(o)),Math.max(Math.abs(n),Math.abs(o)))}function a(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return t===e?null:r+(a-r)*(1-t)/(e-t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.random=t,exports.dist=e,exports.distFast=r,exports.lerp=a;
},{}],"cwvp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interpolateLines=a,exports.calcCirclesWeight=c,exports.getSquareLines=s,exports.cornersByIndex=void 0;var r=require("./utils");function t(r){return o(r)||e(r)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function e(r){if(Symbol.iterator in Object(r)||"[object Arguments]"===Object.prototype.toString.call(r))return Array.from(r)}function o(r){if(Array.isArray(r)){for(var t=0,n=new Array(r.length);t<r.length;t++)n[t]=r[t];return n}}var i=function(r){return(r>>>0).toString(2).padStart(4,"0")};exports.cornersByIndex=i;var u=Array.from(new Array(16),function(r,t){return i(t).split("").map(Number)});function a(n,e){return n.map(function(n){for(var o=0;o<n.length;o+=2){var i=n[o],u=n[o+1];(0!==i&&1!==i||0!==u&&1!==u)&&(0!==i&&1!==i||(n[o+1]=r.lerp.apply(void 0,t(0===i?[e[0],e[3]]:[e[1],e[2]]))),0!==u&&1!==u||(n[o]=r.lerp.apply(void 0,t(0===u?[e[0],e[1]]:[e[3],e[2]]))))}return n})}function c(r,t,n){return r.reduce(function(r,e){return r+Math.pow(e.radius,2)/(Math.pow(e.x-t,2)+Math.pow(e.y-n,2))},0)}function p(r,t){return r[0]===t[0]&&r[1]===t[1]&&r[2]===t[2]&&r[3]===t[3]}function f(r){return i(u.findIndex(p.bind(null,r)))}var l={"0001":[[0,.5,.5,1,0,1]],"0010":[[1,.5,.5,1,1,1]],"0011":[[0,.5,1,.5,1,1,0,1]],"0100":[[.5,0,1,.5,1,0]],"0101":[[0,.5,.5,0,1,0,1,.5,.5,1,0,1]],"0110":[[.5,0,.5,1,1,1,1,0]],"0111":[[0,.5,.5,0,1,0,1,1,0,1]],1000:[[0,.5,.5,0,0,0]],1001:[[.5,0,.5,1,0,1,0,0]],1010:[[0,.5,.5,1,1,1,1,.5,.5,0,0,0]],1011:[[.5,0,1,.5,1,1,0,1,0,0]],1100:[[0,.5,1,.5,1,0,0,0]],1101:[[.5,1,1,.5,1,0,0,0,0,1]],1110:[[0,.5,.5,1,1,1,1,0,0,0]],1111:[[0,0,1,0,1,1,0,1]]};function s(r){var t=f(r.map(function(r){return r>=1?1:0}));return l[t]}
},{"./utils":"K0yk"}],"P5XS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createMetaballsDrawer=o;var e=require("./metaballs");function t(e,t){return a(e)||n(e,t)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function n(e,t){var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(u){a=!0,i=u}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}function a(e){if(Array.isArray(e))return e}var i=[[0,0],[1,0],[1,1],[0,1]];function o(r,n){var a=document.createElement("canvas"),o=a.getContext("2d");return function(l,u){a.width=l,a.height=u,o.fillStyle="#000";var f=[];return r.forEach(function(a){for(var l=4*a.radius,u=Math.max(0,Math.floor((a.x-l)/n.size)),c=Math.max(0,Math.floor((a.y-l)/n.size)),s=Math.min(n.cols,Math.floor((a.x+l)/n.size)),h=Math.min(n.cols,Math.floor((a.y+l)/n.size)),v=function(a){for(var l=function(l){var u=l*n.cols+a;if(!f[u]){var c=i.map(function(i){var o=t(i,2),u=o[0],f=o[1];return(0,e.calcCirclesWeight)(r,(u+a)*n.size,(f+l)*n.size)}),s=(0,e.getSquareLines)(c);s&&function(e,t,r){o.strokeStyle="#0f0",r.forEach(function(r){o.beginPath(),o.moveTo((e+r[0])*n.size,(t+r[1])*n.size);for(var a=2;a<r.length;a+=2)o.lineTo((e+r[a])*n.size,(t+r[a+1])*n.size);o.fill()})}(a,l,(0,e.interpolateLines)(s,c)),f[u]=!0}},u=c;u<h;++u)l(u)},y=u;y<s;++y)v(y)}),a}}
},{"./metaballs":"cwvp"}],"4Nwa":[function(require,module,exports) {
"use strict";function e(e){var t=document.getElementById("gridSize"),i=document.getElementById("gridVisibility"),n=document.getElementById("gridSizeValue");e.visible=i.checked;var r=function(t){e.size=Number(t.value),n.innerText="Grid: ".concat(e.size,"px")};r(t),t.addEventListener("input",function(e){r(e.target)}),i.addEventListener("change",function(t){e.visible=t.target.checked})}function t(e,t){e.strokeStyle="#555",e.lineWidth=.1;for(var i=0;i<t.cols;++i)for(var n=0;n<t.rows;++n)e.beginPath(),e.rect(i*t.size,n*t.size,t.size,t.size),e.stroke()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.initGridUI=e,exports.drawGrid=t;
},{}],"8FMD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pulsarUpdater=o,exports.orbitalUpdater=a,exports.createCircles=void 0;var r=require("./utils");function e(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{},a=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(o).filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable}))),a.forEach(function(e){t(r,e,o[e])})}return r}function t(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function o(r){r.forEach(function(r,e){var t=Date.now()/1e3;r.oradius=r.oradius||r.radius,r.radius=r.oradius+5*(e%2?Math.sin:Math.cos)(2*t)})}function a(r){r.forEach(function(r,e){var t=Date.now()/1e3;r.x+=Math.cos(t)*r.radius*r.vx/200,r.y+=(Math.sin(t)*r.radius/2+20*Math.cos(t))*r.vy/200})}var n={ax:50*(0,r.random)(-1,1),ay:50*(0,r.random)(-1,1)},i=function(r,t){return[e({},n,{color:[0,255,140],radius:40,x:r/2,y:t/2,vx:0,vy:0}),e({},n,{color:[0,255,170],radius:70,x:r/2,y:t/2,vx:0,vy:0}),e({},n,{color:[255,255,0],radius:60,x:r/2,y:t/2,vx:0,vy:0}),e({},n,{color:[0,255,140],radius:50,x:r/2,y:t/2,vx:0,vy:0})]};exports.createCircles=i;
},{"./utils":"K0yk"}],"Focm":[function(require,module,exports) {
"use strict";var r=o(require("run-with-fps")),e=require("./src/gradientDrawer"),t=require("./src/metaballsDrawer"),n=require("./src/gridUI"),a=require("./src/circles"),i=require("./src/utils");function o(r){return r&&r.__esModule?r:{default:r}}function u(r,e){return c(r)||v(r,e)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function v(r,e){var t=[],n=!0,a=!1,i=void 0;try{for(var o,u=r[Symbol.iterator]();!(n=(o=u.next()).done)&&(t.push(o.value),!e||t.length!==e);n=!0);}catch(s){a=!0,i=s}finally{try{n||null==u.return||u.return()}finally{if(a)throw i}}return t}function c(r){if(Array.isArray(r))return r}var d=window.innerWidth,l=window.innerHeight,y=document.getElementById("canvas");y.width=d,y.height=l;var f=y.getContext("2d"),h=(0,a.createCircles)(d,l),x={size:1,visible:!1,get cols(){return d/this.size},get rows(){return l/this.size}};(0,n.initGridUI)(x);var g=(0,e.createGradientDrawer)(h),w=(0,t.createMetaballsDrawer)(h,x),m=[];function p(r){var e,t=0;for(e in r)t+=r[e]*r[e];return Math.sqrt(t)}function b(r,e){var t=[],n=0;for(n=0;n<r.length;++n)t[n]=r[n]-e[n];return t}function q(r,e){var t,n=0;for(t in r)n+=r[t]*e[t];return n}h.forEach(function(r){h.forEach(function(e){r!==e&&m.push({points:[r,e],length:0,v12:[0,0],dir12:[0,0]})})});var E={x:d/2,y:l/2,vx:(0,i.random)(-10,10),vy:(0,i.random)(-10,10)};function I(){f.fillStyle="#000",y.width=d,(0,a.pulsarUpdater)(h),m.forEach(function(r){var e=u(r.points,2),t=e[0],n=e[1];r.v12=[n.x-t.x,n.y-t.y],r.length=p(r.v12),0===r.length&&(r.v12=[Math.random()/10-.05,Math.random()/10-.05],r.length=p(r.v12)),r.dir12=[r.v12[0]/r.length,r.v12[1]/r.length];var a=r.dir12,i=(t.radius+n.radius)/1.2,o=.2*(r.length-i)-.2*q(b([t.vx,t.vy],[n.vx,n.vy]),a),s=[o*a[0],o*a[1]],v=[-s[0],-s[1]];t.ax+=.2*s[0],t.ay+=.2*s[1],n.ax+=.2*v[0],n.ay+=.2*v[1]});h.forEach(function(r,e){r.vx+=.3*r.ax,r.vy+=.3*r.ay,r.vx*=.3,r.vy*=.3,r.x+=r.vx,r.y+=r.vy,r.x-1.1*r.radius<0&&(r.x=1.1*r.radius,r.vy=0,r.vx*=-1,r.ax*=-2,[-1,1]),r.y-1.1*r.radius<0&&(r.y=1.1*r.radius,r.vx=0,r.vy*=-1,r.ay*=-2,[1,-1]),r.x+1.1*r.radius>d&&(r.x=d-1.1*r.radius,r.vy=0,r.vx*=-1,r.ax*=-2,[-1,1]),r.y+1.1*r.radius>l&&(r.y=l-1.1*r.radius,r.vy*=-1,r.vx=0,r.ay*=-2,[1,-1])}),f.drawImage(w(d,l),0,0),f.globalCompositeOperation="source-in",f.drawImage(g(d,l),0,0),f.globalCompositeOperation="source-over",x.visible&&(0,n.drawGrid)(f,x)}function M(){h.forEach(function(r){f.strokeStyle="#000",f.beginPath(),f.arc(r.x,r.y,r.radius,0,360),f.stroke()})}(0,r.default)(I,30);
},{"run-with-fps":"VCqk","./src/gradientDrawer":"556b","./src/metaballsDrawer":"P5XS","./src/gridUI":"4Nwa","./src/circles":"8FMD","./src/utils":"K0yk"}]},{},["Focm"], null)
//# sourceMappingURL=metaballs-marching-squares.5019a386.map