{"version":3,"sources":["node_modules/run-with-fps/index.js","node_modules/tweeen/src/index.js","node_modules/eases/back-in-out.js","node_modules/eases/back-in.js","node_modules/eases/back-out.js","node_modules/eases/bounce-out.js","node_modules/eases/bounce-in-out.js","node_modules/eases/bounce-in.js","node_modules/eases/circ-in-out.js","node_modules/eases/circ-in.js","node_modules/eases/circ-out.js","node_modules/eases/cubic-in-out.js","node_modules/eases/cubic-in.js","node_modules/eases/cubic-out.js","node_modules/eases/elastic-in-out.js","node_modules/eases/elastic-in.js","node_modules/eases/elastic-out.js","node_modules/eases/expo-in-out.js","node_modules/eases/expo-in.js","node_modules/eases/expo-out.js","node_modules/eases/linear.js","node_modules/eases/quad-in-out.js","node_modules/eases/quad-in.js","node_modules/eases/quad-out.js","node_modules/eases/quart-in-out.js","node_modules/eases/quart-in.js","node_modules/eases/quart-out.js","node_modules/eases/quint-in-out.js","node_modules/eases/quint-in.js","node_modules/eases/quint-out.js","node_modules/eases/sine-in-out.js","node_modules/eases/sine-in.js","node_modules/eases/sine-out.js","node_modules/eases/index.js","src/js/constants.js","node_modules/hex-rgb/index.js","node_modules/lerp/index.js","node_modules/lerp-array/index.js","node_modules/rgb-hex/index.js","node_modules/@sunify/lerp-color/node_modules/hex-rgb/index.js","node_modules/@sunify/lerp-color/dist/utils.js","node_modules/@sunify/lerp-color/dist/index.js","src/js/shaders/noise.js","src/js/index.js"],"names":["POINTS_TTL","PIXEL_RATIO","ctx","document","createElement","getContext","dpr","window","devicePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","hexCharacters","match3or4Hex","match6or8Hex","nonHexChars","RegExp","validHexSize","module","exports","hex","options","test","TypeError","alpha","replace","length","parseInt","slice","repeat","num","red","green","blue","format","isPercent","toString","includes","res","match","map","Number","undefined","parseFloat","Math","round","hexChars","substring","__importDefault","mod","__esModule","Object","defineProperty","value","rgb_hex_1","require","hex_rgb_1","hexColorRegex","rgbColorRegex","rgbaColorRegex","rgbaHexColorRegex","isColor","c","String","parseColor","color","_a","default","r","g","b","a","concat","stringifyColor","target","getStep","colors","time","steps","stepSize","step","min","floor","lerp_array_1","utils_1","utils_2","lerpColor","args","_i","arguments","colors_1","parsedColors_1","t","start","end","startColor","endColor","violetPalette","shuffle","violetLerp","goldPalette","j","x","i","random","sumColor","reduce","isTooBright","sortedPalette","sort","darkest","bgColor","frColor","hoverColor","p","filter","documentElement","style","setProperty","body","backgroundColor","printFloat","n","colors2","join","_","gl","buffer","currentProgram","vertexPosition","screenVertexPosition","frontTarget","backTarget","screenProgram","canvas","getElementById","bg","querySelector","niceSeeds","seed","parameters","startTime","Date","now","timeOffset","offsetX","offsetY","screenWidth","screenHeight","surface","centerX","centerY","width","height","preserveDrawingBuffer","error","computeSurfaceCorners","halfWidth","halfHeight","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","compile","program","createProgram","vs","createShader","surfaceVertexShader","VERTEX_SHADER","fs","noiseShader","FRAGMENT_SHADER","attachShader","deleteShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","console","VALIDATE_STATUS","getError","deleteProgram","setURL","fragment","cacheUniformLocation","useProgram","positionAttribute","getAttribLocation","enableVertexAttribArray","compileScreenProgram","vertexShader","screenFrag","label","uniformsCache","getUniformLocation","createTarget","framebuffer","createFramebuffer","renderbuffer","createRenderbuffer","texture","createTexture","bindTexture","TEXTURE_2D","texImage2D","RGBA","UNSIGNED_BYTE","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MAG_FILTER","NEAREST","TEXTURE_MIN_FILTER","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","DEPTH_COMPONENT16","framebufferRenderbuffer","DEPTH_ATTACHMENT","createRenderTargets","src","type","shader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","getExtension","createBuffer","onWindowResize","addEventListener","BIG_AREA","MEDIUM_AREA","getScale","area","innerWidth","innerHeight","scale","bgRect","getBoundingClientRect","abs","viewport","render","pixelSteps","max","scrollY","uniform1f","uniform2f","uniform1i","vertexAttribPointer","FLOAT","activeTexture","TEXTURE0","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","drawArrays","TRIANGLES","TEXTURE1","stopScroll","stop","scrollTo","y","duration","easing","eases","cubicOut","querySelectorAll","forEach","link","e","getAttribute","preventDefault","top","animationDelay","prepareNode","node","nodeName","partial","innerHTML","data","split","char","html","parentNode","insertBefore","nextSibling","removeChild","childNodes","wasAnimatedBefore","Boolean","localStorage","getItem","setItem","setTimeout","opacity","content","handleScroll","cubicIn","downloadLink","downloadCanvas","fn","toBlob","blob","url","URL","createObjectURL","href","download","click","revokeObjectURL","appendChild","hot","dispose"],"mappings":"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","file":"js.2c9e346d.map","sourceRoot":"..","sourcesContent":["module.exports = function runWithFPS (fn, fps) {\n  var interval = 1000 / fps;\n  var then = Date.now();\n  var stopped = false;\n\n  function run() {\n    if (!stopped) {\n      requestAnimationFrame(run);\n    }\n\n    var now = Date.now();\n    var delta = now - then;\n\n    if (delta > interval && !stopped) {\n      then = now - (delta % interval);\n      fn(now);\n    }\n  };\n\n  requestAnimationFrame(run);\n  fn(Date.now());\n\n  return function() {\n    stopped = true;\n  }\n};","var runWithFps = require('run-with-fps');\n\nfunction linear(a) {\n  return a;\n}\n\nfunction tween(from, to, cb, params) {\n  params = params || {};\n  var duration = params.duration || 300;\n  var easing = params.easing || linear;\n  var fps = params.fps || 60;\n  var end = params.end;\n\n  var stopped = false;\n  var start = Date.now();\n\n  var stop = runWithFps(function() {\n    var spent = Math.min(Date.now() - start, duration);\n    cb(from + (to - from) * easing(spent / duration));\n    if (spent === duration || stopped) {\n      stop();\n      if (typeof end === 'function') {\n        end();\n      }\n    }\n  }, fps);\n\n  return function() {\n    stopped = true;\n  };\n}\n\nmodule.exports = tween;\n","function backInOut(t) {\n  var s = 1.70158 * 1.525\n  if ((t *= 2) < 1)\n    return 0.5 * (t * t * ((s + 1) * t - s))\n  return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2)\n}\n\nmodule.exports = backInOut","function backIn(t) {\n  var s = 1.70158\n  return t * t * ((s + 1) * t - s)\n}\n\nmodule.exports = backIn","function backOut(t) {\n  var s = 1.70158\n  return --t * t * ((s + 1) * t + s) + 1\n}\n\nmodule.exports = backOut","function bounceOut(t) {\n  var a = 4.0 / 11.0\n  var b = 8.0 / 11.0\n  var c = 9.0 / 10.0\n\n  var ca = 4356.0 / 361.0\n  var cb = 35442.0 / 1805.0\n  var cc = 16061.0 / 1805.0\n\n  var t2 = t * t\n\n  return t < a\n    ? 7.5625 * t2\n    : t < b\n      ? 9.075 * t2 - 9.9 * t + 3.4\n      : t < c\n        ? ca * t2 - cb * t + cc\n        : 10.8 * t * t - 20.52 * t + 10.72\n}\n\nmodule.exports = bounceOut","var bounceOut = require('./bounce-out')\n\nfunction bounceInOut(t) {\n  return t < 0.5\n    ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n    : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5\n}\n\nmodule.exports = bounceInOut","var bounceOut = require('./bounce-out')\n\nfunction bounceIn(t) {\n  return 1.0 - bounceOut(1.0 - t)\n}\n\nmodule.exports = bounceIn","function circInOut(t) {\n  if ((t *= 2) < 1) return -0.5 * (Math.sqrt(1 - t * t) - 1)\n  return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1)\n}\n\nmodule.exports = circInOut","function circIn(t) {\n  return 1.0 - Math.sqrt(1.0 - t * t)\n}\n\nmodule.exports = circIn","function circOut(t) {\n  return Math.sqrt(1 - ( --t * t ))\n}\n\nmodule.exports = circOut","function cubicInOut(t) {\n  return t < 0.5\n    ? 4.0 * t * t * t\n    : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0\n}\n\nmodule.exports = cubicInOut","function cubicIn(t) {\n  return t * t * t\n}\n\nmodule.exports = cubicIn","function cubicOut(t) {\n  var f = t - 1.0\n  return f * f * f + 1.0\n}\n\nmodule.exports = cubicOut","function elasticInOut(t) {\n  return t < 0.5\n    ? 0.5 * Math.sin(+13.0 * Math.PI/2 * 2.0 * t) * Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n    : 0.5 * Math.sin(-13.0 * Math.PI/2 * ((2.0 * t - 1.0) + 1.0)) * Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) + 1.0\n}\n\nmodule.exports = elasticInOut","function elasticIn(t) {\n  return Math.sin(13.0 * t * Math.PI/2) * Math.pow(2.0, 10.0 * (t - 1.0))\n}\n\nmodule.exports = elasticIn","function elasticOut(t) {\n  return Math.sin(-13.0 * (t + 1.0) * Math.PI/2) * Math.pow(2.0, -10.0 * t) + 1.0\n}\n\nmodule.exports = elasticOut","function expoInOut(t) {\n  return (t === 0.0 || t === 1.0)\n    ? t\n    : t < 0.5\n      ? +0.5 * Math.pow(2.0, (20.0 * t) - 10.0)\n      : -0.5 * Math.pow(2.0, 10.0 - (t * 20.0)) + 1.0\n}\n\nmodule.exports = expoInOut","function expoIn(t) {\n  return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0))\n}\n\nmodule.exports = expoIn","function expoOut(t) {\n  return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t)\n}\n\nmodule.exports = expoOut","function linear(t) {\n  return t\n}\n\nmodule.exports = linear","function quadInOut(t) {\n    t /= 0.5\n    if (t < 1) return 0.5*t*t\n    t--\n    return -0.5 * (t*(t-2) - 1)\n}\n\nmodule.exports = quadInOut","function quadIn(t) {\n  return t * t\n}\n\nmodule.exports = quadIn","function quadOut(t) {\n  return -t * (t - 2.0)\n}\n\nmodule.exports = quadOut","function quarticInOut(t) {\n  return t < 0.5\n    ? +8.0 * Math.pow(t, 4.0)\n    : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0\n}\n\nmodule.exports = quarticInOut","function quarticIn(t) {\n  return Math.pow(t, 4.0)\n}\n\nmodule.exports = quarticIn","function quarticOut(t) {\n  return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0\n}\n\nmodule.exports = quarticOut","function qinticInOut(t) {\n    if ( ( t *= 2 ) < 1 ) return 0.5 * t * t * t * t * t\n    return 0.5 * ( ( t -= 2 ) * t * t * t * t + 2 )\n}\n\nmodule.exports = qinticInOut","function qinticIn(t) {\n  return t * t * t * t * t\n}\n\nmodule.exports = qinticIn","function qinticOut(t) {\n  return --t * t * t * t * t + 1\n}\n\nmodule.exports = qinticOut","function sineInOut(t) {\n  return -0.5 * (Math.cos(Math.PI*t) - 1)\n}\n\nmodule.exports = sineInOut","function sineIn (t) {\n  var v = Math.cos(t * Math.PI * 0.5)\n  if (Math.abs(v) < 1e-14) return 1\n  else return 1 - v\n}\n\nmodule.exports = sineIn\n","function sineOut(t) {\n  return Math.sin(t * Math.PI/2)\n}\n\nmodule.exports = sineOut","module.exports = {\n\t'backInOut': require('./back-in-out'),\n\t'backIn': require('./back-in'),\n\t'backOut': require('./back-out'),\n\t'bounceInOut': require('./bounce-in-out'),\n\t'bounceIn': require('./bounce-in'),\n\t'bounceOut': require('./bounce-out'),\n\t'circInOut': require('./circ-in-out'),\n\t'circIn': require('./circ-in'),\n\t'circOut': require('./circ-out'),\n\t'cubicInOut': require('./cubic-in-out'),\n\t'cubicIn': require('./cubic-in'),\n\t'cubicOut': require('./cubic-out'),\n\t'elasticInOut': require('./elastic-in-out'),\n\t'elasticIn': require('./elastic-in'),\n\t'elasticOut': require('./elastic-out'),\n\t'expoInOut': require('./expo-in-out'),\n\t'expoIn': require('./expo-in'),\n\t'expoOut': require('./expo-out'),\n\t'linear': require('./linear'),\n\t'quadInOut': require('./quad-in-out'),\n\t'quadIn': require('./quad-in'),\n\t'quadOut': require('./quad-out'),\n\t'quartInOut': require('./quart-in-out'),\n\t'quartIn': require('./quart-in'),\n\t'quartOut': require('./quart-out'),\n\t'quintInOut': require('./quint-in-out'),\n\t'quintIn': require('./quint-in'),\n\t'quintOut': require('./quint-out'),\n\t'sineInOut': require('./sine-in-out'),\n\t'sineIn': require('./sine-in'),\n\t'sineOut': require('./sine-out')\n}","export const POINTS_TTL = 10000;\n\nexport const PIXEL_RATIO = (function() {\n  var ctx = document.createElement('canvas').getContext('2d'),\n    dpr = window.devicePixelRatio || 1,\n    bsr =\n      ctx.webkitBackingStorePixelRatio ||\n      ctx.mozBackingStorePixelRatio ||\n      ctx.msBackingStorePixelRatio ||\n      ctx.oBackingStorePixelRatio ||\n      ctx.backingStorePixelRatio ||\n      1;\n\n  return dpr / bsr;\n})();\n","'use strict';\n\nconst hexCharacters = 'a-f\\\\d';\nconst match3or4Hex = `#?[${hexCharacters}]{3}[${hexCharacters}]?`;\nconst match6or8Hex = `#?[${hexCharacters}]{6}([${hexCharacters}]{2})?`;\nconst nonHexChars = new RegExp(`[^#${hexCharacters}]`, 'gi');\nconst validHexSize = new RegExp(`^${match3or4Hex}$|^${match6or8Hex}$`, 'i');\n\nmodule.exports = (hex, options = {}) => {\n\tif (typeof hex !== 'string' || nonHexChars.test(hex) || !validHexSize.test(hex)) {\n\t\tthrow new TypeError('Expected a valid hex string');\n\t}\n\n\thex = hex.replace(/^#/, '');\n\tlet alpha = 1;\n\n\tif (hex.length === 8) {\n\t\talpha = parseInt(hex.slice(6, 8), 16) / 255;\n\t\thex = hex.slice(0, 6);\n\t}\n\n\tif (hex.length === 4) {\n\t\talpha = parseInt(hex.slice(3, 4).repeat(2), 16) / 255;\n\t\thex = hex.slice(0, 3);\n\t}\n\n\tif (hex.length === 3) {\n\t\thex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n\t}\n\n\tconst num = parseInt(hex, 16);\n\tconst red = num >> 16;\n\tconst green = (num >> 8) & 255;\n\tconst blue = num & 255;\n\n\treturn options.format === 'array' ?\n\t\t[red, green, blue, alpha] :\n\t\t{red, green, blue, alpha};\n};\n","function lerp(v0, v1, t) {\n    return v0*(1-t)+v1*t\n}\nmodule.exports = lerp","var lerp = require('lerp')\n\nmodule.exports = function lerpValues(value1, value2, t, out) {\n    if (typeof value1 === 'number'\n            && typeof value2 === 'number')\n        return lerp(value1, value2, t)\n    else { //assume array\n        var len = Math.min(value1.length, value2.length)\n        out = out||new Array(len)\n        for (var i=0; i<len; i++) \n            out[i] = lerp(value1[i], value2[i], t)\n        return out\n    }\n}","'use strict';\n/* eslint-disable no-mixed-operators */\nmodule.exports = (red, green, blue, alpha) => {\n\tconst isPercent = (red + (alpha || '')).toString().includes('%');\n\n\tif (typeof red === 'string') {\n\t\tconst res = red.match(/(0?\\.?\\d{1,3})%?\\b/g).map(Number);\n\t\t// TODO: use destructuring when targeting Node.js 6\n\t\tred = res[0];\n\t\tgreen = res[1];\n\t\tblue = res[2];\n\t\talpha = res[3];\n\t} else if (alpha !== undefined) {\n\t\talpha = parseFloat(alpha);\n\t}\n\n\tif (typeof red !== 'number' ||\n\t\ttypeof green !== 'number' ||\n\t\ttypeof blue !== 'number' ||\n\t\tred > 255 ||\n\t\tgreen > 255 ||\n\t\tblue > 255) {\n\t\tthrow new TypeError('Expected three numbers below 256');\n\t}\n\n\tif (typeof alpha === 'number') {\n\t\tif (!isPercent && alpha >= 0 && alpha <= 1) {\n\t\t\talpha = Math.round(255 * alpha);\n\t\t} else if (isPercent && alpha >= 0 && alpha <= 100) {\n\t\t\talpha = Math.round(255 * alpha / 100);\n\t\t} else {\n\t\t\tthrow new TypeError(`Expected alpha value (${alpha}) as a fraction or percentage`);\n\t\t}\n\t\talpha = (alpha | 1 << 8).toString(16).slice(1);\n\t} else {\n\t\talpha = '';\n\t}\n\n\treturn ((blue | green << 8 | red << 16) | 1 << 24).toString(16).slice(1) + alpha;\n};\n","'use strict';\n\nconst hexChars = 'a-f\\\\d';\nconst match3or4Hex = `#?[${hexChars}]{3}[${hexChars}]?`;\nconst match6or8Hex = `#?[${hexChars}]{6}([${hexChars}]{2})?`;\n\nconst nonHexChars = new RegExp(`[^#${hexChars}]`, 'gi');\nconst validHexSize = new RegExp(`^${match3or4Hex}$|^${match6or8Hex}$`, 'i');\n\nmodule.exports = function (hex, options = {}) {\n\tif (typeof hex !== 'string' || nonHexChars.test(hex) || !validHexSize.test(hex)) {\n\t\tthrow new TypeError('Expected a valid hex string');\n\t}\n\n\thex = hex.replace(/^#/, '');\n\tlet alpha = 255;\n\n\tif (hex.length === 8) {\n\t\talpha = parseInt(hex.slice(6, 8), 16) / 255;\n\t\thex = hex.substring(0, 6);\n\t}\n\n\tif (hex.length === 4) {\n\t\talpha = parseInt(hex.slice(3, 4).repeat(2), 16) / 255;\n\t\thex = hex.substring(0, 3);\n\t}\n\n\tif (hex.length === 3) {\n\t\thex = hex[0] + hex[0] + hex[1] + hex[1] + hex[2] + hex[2];\n\t}\n\n\tconst num = parseInt(hex, 16);\n\tconst red = num >> 16;\n\tconst green = (num >> 8) & 255;\n\tconst blue = num & 255;\n\n\treturn options.format === 'array' ?\n\t\t[red, green, blue, alpha] :\n\t\t{red, green, blue, alpha};\n};\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar rgb_hex_1 = __importDefault(require(\"rgb-hex\"));\nvar hex_rgb_1 = __importDefault(require(\"hex-rgb\"));\nexports.hexColorRegex = /^#(?=[0-9a-fA-F]*$)(?:.{3}|.{4}|.{6}|.{8})$/;\nexports.rgbColorRegex = /^rgb\\((\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\)$/;\nexports.rgbaColorRegex = /^rgba\\((\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d+(?:\\.\\d+)?|\\.\\d+)\\)$/;\nexports.rgbaHexColorRegex = /^rgba\\((#[0-9a-fA-F]{3,6})\\s*,\\s*(\\d+(?:\\.\\d+)?|\\.\\d+)\\)$/;\nexports.isColor = function (c) {\n    return exports.hexColorRegex.test(String(c)) ||\n        exports.rgbColorRegex.test(String(c)) ||\n        exports.rgbaColorRegex.test(String(c)) ||\n        exports.rgbaHexColorRegex.test(String(c));\n};\nexports.parseColor = function (color) {\n    if (exports.hexColorRegex.test(color)) {\n        var _a = hex_rgb_1.default(color, { format: 'array' }), r = _a[0], g = _a[1], b = _a[2], a = _a[3];\n        return [r, g, b, a === 255 ? 1 : a];\n    }\n    if (exports.rgbColorRegex.test(color)) {\n        var match = color.match(exports.rgbColorRegex);\n        if (match) {\n            return match\n                .slice(1, 4)\n                .map(Number)\n                .concat([1]);\n        }\n    }\n    if (exports.rgbaColorRegex.test(color)) {\n        var match = color.match(exports.rgbaColorRegex);\n        if (match) {\n            return match.slice(1, 5).map(Number);\n        }\n    }\n    if (exports.rgbaHexColorRegex.test(color)) {\n        var match = color.match(exports.rgbaHexColorRegex);\n        if (match) {\n            return hex_rgb_1.default(match[1], { format: 'array' })\n                .slice(0, 3)\n                .concat([Number(match[2])]);\n        }\n        return [];\n    }\n    return undefined;\n};\nexports.stringifyColor = function (color, target) {\n    var _a = color.slice(0, 3).map(Math.round), r = _a[0], g = _a[1], b = _a[2];\n    var a = color[3];\n    if (exports.hexColorRegex.test(target)) {\n        if (a === 1) {\n            return \"#\" + rgb_hex_1.default(r, g, b);\n        }\n        return \"#\" + rgb_hex_1.default(r, g, b, a);\n    }\n    if (exports.rgbColorRegex.test(target) && a === 1) {\n        return \"rgb(\" + r + \", \" + g + \", \" + b + \")\";\n    }\n    return \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + a + \")\";\n};\nexports.getStep = function (colors, time) {\n    if (colors.length === 2) {\n        return [0, time];\n    }\n    var steps = colors.length - 1;\n    var stepSize = 1 / steps;\n    var step = Math.min(steps - 1, Math.floor(time / stepSize));\n    return [step, (time - stepSize * step) / stepSize];\n};\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar lerp_array_1 = __importDefault(require(\"lerp-array\"));\nvar utils_1 = require(\"./utils\");\nvar utils_2 = require(\"./utils\");\nexports.isColor = utils_2.isColor;\nvar lerpColor = function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n    }\n    if (args.length === 1) {\n        var colors_1 = args[0];\n        var parsedColors_1 = colors_1.map(utils_1.parseColor);\n        return function (t) {\n            var _a = utils_1.getStep(parsedColors_1, t), step = _a[0], time = _a[1];\n            var start = colors_1[step];\n            var end = colors_1[step + 1];\n            if ((time === 0 || start === end) && !utils_1.rgbaHexColorRegex.test(start)) {\n                return start;\n            }\n            if (time === 1 && !utils_1.rgbaHexColorRegex.test(end)) {\n                return end;\n            }\n            var startColor = parsedColors_1[step];\n            var endColor = parsedColors_1[step + 1];\n            if (startColor && endColor) {\n                return utils_1.stringifyColor(lerp_array_1.default(startColor, endColor, time), end);\n            }\n            return undefined;\n        };\n    }\n    else {\n        var colors = args.length === 2 ? args[0] : args.slice(0, args.length - 1);\n        var _a = utils_1.getStep(colors, args[args.length - 1]), step = _a[0], time = _a[1];\n        var start = colors[step];\n        var end = colors[step + 1];\n        if ((time === 0 || start === end) && !utils_1.rgbaHexColorRegex.test(start)) {\n            return start;\n        }\n        if (time === 1 && !utils_1.rgbaHexColorRegex.test(end)) {\n            return end;\n        }\n        var startColor = utils_1.parseColor(start);\n        var endColor = utils_1.parseColor(end);\n        if (startColor && endColor) {\n            return utils_1.stringifyColor(lerp_array_1.default(startColor, endColor, time), end);\n        }\n    }\n    return undefined;\n};\nexports.default = lerpColor;\n","import hexRgb from 'hex-rgb';\nimport lerpColor from '@sunify/lerp-color';\n\nconst violetPalette = shuffle(['#000', '#000']);\nconst violetLerp = lerpColor(violetPalette);\nconst goldPalette = ['#360d2a', '#3e0f30', '#471137', '#51133f', '#5c1648', '#691952', '#771c5d', '#88206a', '#9d257a', '#b92c90', '#ff3cc7', '#fa748b', '#f98b73', '#f79c61', '#f6a952', '#f5b546', '#f4bf3b', '#f4c831', '#f3d029', '#f2d721', '#f2de1a', '#f1e414', '#f1e90e', '#f1ee09', '#f0f204', '#f0f600', '#c5f329', '#9ef04f', '#7cee70', '#5fec8d', '#45eaa5', '#30e8ba', '#1fe7ca', '#11e6d7', '#08e6e1', '#02e5e6', '#00e5e8'];\n\nexport function shuffle(a) {\n  var j, x, i;\n  for (i = a.length - 1; i > 0; i--) {\n    j = Math.floor(Math.random() * (i + 1));\n    x = a[i];\n    a[i] = a[j];\n    a[j] = x;\n  }\n  return a;\n}\n\nshuffle(goldPalette);\n\nconst sumColor = (color) => hexRgb(color, { format: 'array' }).slice(0, 3).reduce((a, b) => a + b);\nconst isTooBright = (color) => sumColor(color) > 340; // ToDo: improve algo (with hsl?)\nconst sortedPalette = goldPalette.slice(1, -1).sort((a, b) => sumColor(a) - sumColor(b));\nconst darkest = sortedPalette[0];\nconst bgColor = goldPalette[goldPalette.length - 1];\nconst frColor = isTooBright(bgColor) ? darkest : '#FFF';\nconst hoverColor = (() => {\n  const p = sortedPalette.filter((c) => c !== frColor);\n  return p[Math.round(p.length / 5) * (isTooBright(bgColor) ? 1 : 4)];\n})();\ndocument.documentElement.style.setProperty('--background', bgColor);\ndocument.documentElement.style.setProperty('--foreground', frColor);\ndocument.documentElement.style.setProperty('--hover', hoverColor);\ndocument.body.style.backgroundColor = goldPalette[0];\ndocument.body.style.color = isTooBright(goldPalette[0]) ? darkest : '#FFF';\n\n// const palette = shuffle(palettes[1]);\n\nconst printFloat = (n) => (n % 1 ? String(n) : `${n}.0`);\nconst colors = [...violetPalette]\n  .map((c) => hexRgb(c, { format: 'array' }))\n  .map((c) =>\n    c\n      .slice(0, 3)\n      .map((n) => n / 255)\n      .map(printFloat)\n  );\nconst colors2 = [...goldPalette]\n  .map((c) => hexRgb(c, { format: 'array' }))\n  .map((c) =>\n    c\n      .slice(0, 3)\n      .map((n) => n / 255)\n      .map(printFloat)\n  );\n\nexport default `\nprecision highp float;\n\n#extension GL_OES_standard_derivatives : enable\n\nuniform float time;\nuniform float pixelSteps;\nuniform vec2 offset;\nuniform vec2 resolution;\n\n//\n// Description : Array and textureless GLSL 2D/3D/4D simplex\n//               noise functions.\n//      Author : Ian McEwan, Ashima Arts.\n//  Maintainer : stegu\n//     Lastmod : 20110822 (ijm)\n//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.\n//               Distributed under the MIT License. See LICENSE file.\n//               https://github.com/ashima/webgl-noise\n//               https://github.com/stegu/webgl-noise\n//\n\nvec3 mod289(vec3 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec4 mod289(vec4 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec2 mod289(vec2 x) {\n  return x - floor(x * (1.0 / 289.0)) * 289.0;\n}\n\nvec3 permute(vec3 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 permute(vec4 x) {\n  return mod289(((x*34.0)+1.0)*x);\n}\n\nvec4 taylorInvSqrt(vec4 r)\n{\n  return 1.79284291400159 - 0.85373472095314 * r;\n}\n\n//\tClassic Perlin 3D Noise\n//\tby Stefan Gustavson\n//\nvec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}\n\nfloat cnoise(vec3 P){\n  vec3 Pi0 = floor(P); // Integer part for indexing\n  vec3 Pi1 = Pi0 + vec3(1.0); // Integer part + 1\n  Pi0 = mod(Pi0, 289.0);\n  Pi1 = mod(Pi1, 289.0);\n  vec3 Pf0 = fract(P); // Fractional part for interpolation\n  vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0\n  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n  vec4 iy = vec4(Pi0.yy, Pi1.yy);\n  vec4 iz0 = Pi0.zzzz;\n  vec4 iz1 = Pi1.zzzz;\n\n  vec4 ixy = permute(permute(ix) + iy);\n  vec4 ixy0 = permute(ixy + iz0);\n  vec4 ixy1 = permute(ixy + iz1);\n\n  vec4 gx0 = ixy0 / 7.0;\n  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;\n  gx0 = fract(gx0);\n  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);\n  vec4 sz0 = step(gz0, vec4(0.0));\n  gx0 -= sz0 * (step(0.0, gx0) - 0.5);\n  gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n\n  vec4 gx1 = ixy1 / 7.0;\n  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;\n  gx1 = fract(gx1);\n  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);\n  vec4 sz1 = step(gz1, vec4(0.0));\n  gx1 -= sz1 * (step(0.0, gx1) - 0.5);\n  gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n\n  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);\n  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);\n  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);\n  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);\n  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);\n  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);\n  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);\n  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);\n\n  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n  g000 *= norm0.x;\n  g010 *= norm0.y;\n  g100 *= norm0.z;\n  g110 *= norm0.w;\n  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n  g001 *= norm1.x;\n  g011 *= norm1.y;\n  g101 *= norm1.z;\n  g111 *= norm1.w;\n\n  float n000 = dot(g000, Pf0);\n  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n  float n111 = dot(g111, Pf1);\n\n  vec3 fade_xyz = fade(Pf0);\n  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n  return 2.2 * n_xyz;\n}\n\nbool inRange(float n, float base, float width) {\n  return n > base && (n < base + width);\n}\n\nvec4 paletteColor2(float n, float steps) {\n  if (steps > 0.0) {\n    float stepSize = 1.0 / steps;\n    n = floor(n / stepSize) * stepSize;\n  }\n\n  ${colors2\n    .map(([r, g, b], i) => `vec4 c${i} = vec4(${r}, ${g}, ${b}, 1);`)\n    .join('\\n')}\n\n  ${colors2\n    .map((_, i) => `float step${i} = ${printFloat(i / (colors2.length - 1))};`)\n    .join('\\n')}\n\n  vec4 color = mix(c0, c1, smoothstep(step0, step1, n));\n  ${colors2\n    .slice(2)\n    .map(\n      (_, i) =>\n        `color = mix(color, c${i + 2}, smoothstep(step${i + 1}, step${\n          i + 2\n        }, n));`\n    )\n    .join('\\n')}\n  return color;\n}\n\n\nfloat bounceOut(float t) {\n  float a = 4.0 / 11.0;\n  float b = 8.0 / 11.0;\n  float c = 9.0 / 10.0;\n\n  float ca = 4356.0 / 361.0;\n  float cb = 35442.0 / 1805.0;\n  float cc = 16061.0 / 1805.0;\n\n  float t2 = t * t;\n\n  return t < a\n    ? 7.5625 * t2\n    : t < b\n      ? 9.075 * t2 - 9.9 * t + 3.4\n      : t < c\n        ? ca * t2 - cb * t + cc\n        : 10.8 * t * t - 20.52 * t + 10.72;\n}\n\nfloat bounceInOut(float t) {\n  if (t < 0.335) {\n    return t / 100.0;\n  }\n  // if (t > 0.69) {\n  //   return 1.0;\n  // }\n  return t < 0.5\n    ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n    : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\n\nfloat random (vec2 st) {\n    return fract(sin(dot(st.xy,\n                        vec2(12.9898,78.233)))*\n        43758.5453123);\n}\n\nvoid main( void ) {\n  vec2 position = (gl_FragCoord.xy / resolution.xy);\n  position.x *= resolution.x/resolution.y;\n\n  // scale — lower is closer\n  position *= 1.8;\n\n  float palleteSteps = 20000.0;\n  float n = cnoise(vec3(position, time));\n  float n1 = random(position + time / 10.0) / 15.0;\n  position *= n * cos(n);\n  n = cnoise(vec3(position, time));\n\n  vec4 color = vec4(0.0, 0.0, 0.0, 1);\n  color = paletteColor2(bounceInOut(n), palleteSteps);\n\n  // if (inRange(n, 0.0, 0.2)) {\n  //   color = paletteColor2(bounceInOut((n - 0.0) / 0.2), palleteSteps);\n  // }\n  // if (inRange(n, 0.3, 0.2)) {\n  //   color = paletteColor2(bounceInOut((n - 0.3) / 0.2), palleteSteps);\n  // }\n  // if (inRange(n, 0.6, 0.2)) {\n  //   color = paletteColor2(bounceInOut((n - 0.5) / 3.2), palleteSteps);\n  // }\n  color += n1;\n\n  gl_FragColor = color;\n}\n`;\n","import runWithFps from 'run-with-fps';\nimport tweeen from 'tweeen';\nimport eases from 'eases';\nimport { PIXEL_RATIO } from './constants';\n\nimport noiseShader, { shuffle } from './shaders/noise.js';\nimport screenFrag from './shaders/screenFragment.glsl';\nimport vertexShader from './shaders/vertexShader.glsl';\nimport surfaceVertexShader from './shaders/surfaceVertex.glsl';\n\nconst canvas = document.getElementById('bg');\nconst bg = document.querySelector('.bg-wrapper');\n\n// mostly copy-pasted from glslsandbox\nlet gl;\nlet buffer;\nlet currentProgram;\nlet vertexPosition;\nlet screenVertexPosition;\n\nconst niceSeeds = [\n  -51216,\n  266970,\n  -327558,\n  347327,\n  353216,\n  318628,\n  292671,\n  3173416\n];\nlet seed = shuffle(niceSeeds)[0] + (0.5 - Math.random()) * 10000;\n// seed = (0.5 - Math.random()) * 1000000;\nconst parameters = {\n  startTime: Date.now(),\n  timeOffset: seed,\n  time: 0,\n  offsetX: (0.5 - Math.random()) * 10,\n  offsetY: (0.5 - Math.random()) * 10,\n  screenWidth: 0,\n  screenHeight: 0\n};\nconst surface = {\n  centerX: 0,\n  centerY: 0,\n  width: 1,\n  height: 1\n};\nlet frontTarget, backTarget, screenProgram;\n\n// Initialise WebGL\ntry {\n  gl = canvas.getContext('experimental-webgl', {\n    preserveDrawingBuffer: true\n  });\n} catch (error) {}\nif (gl) {\n  // enable dFdx, dFdy, fwidth\n  gl.getExtension('OES_standard_derivatives');\n  // Create vertex buffer (2 triangles)\n  buffer = gl.createBuffer();\n  gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n  gl.bufferData(\n    gl.ARRAY_BUFFER,\n    new Float32Array([\n      -1.0,\n      -1.0,\n      1.0,\n      -1.0,\n      -1.0,\n      1.0,\n      1.0,\n      -1.0,\n      1.0,\n      1.0,\n      -1.0,\n      1.0\n    ]),\n    gl.STATIC_DRAW\n  );\n  // Create surface buffer (coordinates at screen corners)\n  surface.buffer = gl.createBuffer();\n}\n// initialize code editor\ncompile();\n\nonWindowResize();\nwindow.addEventListener('resize', onWindowResize, false);\ncompileScreenProgram();\n\nfunction computeSurfaceCorners() {\n  if (gl) {\n    surface.width =\n      (surface.height * parameters.screenWidth) / parameters.screenHeight;\n\n    var halfWidth = surface.width * 0.5,\n      halfHeight = surface.height * 0.5;\n\n    gl.bindBuffer(gl.ARRAY_BUFFER, surface.buffer);\n    gl.bufferData(\n      gl.ARRAY_BUFFER,\n      new Float32Array([\n        surface.centerX - halfWidth,\n        surface.centerY - halfHeight,\n        surface.centerX + halfWidth,\n        surface.centerY - halfHeight,\n        surface.centerX - halfWidth,\n        surface.centerY + halfHeight,\n        surface.centerX + halfWidth,\n        surface.centerY - halfHeight,\n        surface.centerX + halfWidth,\n        surface.centerY + halfHeight,\n        surface.centerX - halfWidth,\n        surface.centerY + halfHeight\n      ]),\n      gl.STATIC_DRAW\n    );\n  }\n}\n\nfunction compile() {\n  const program = gl.createProgram();\n  const vs = createShader(surfaceVertexShader, gl.VERTEX_SHADER);\n  const fs = createShader(noiseShader, gl.FRAGMENT_SHADER);\n  if (vs == null || fs == null) return null;\n  gl.attachShader(program, vs);\n  gl.attachShader(program, fs);\n  gl.deleteShader(vs);\n  gl.deleteShader(fs);\n  gl.linkProgram(program);\n  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n    const error = gl.getProgramInfoLog(program);\n    console.error(error);\n    console.error(\n      'VALIDATE_STATUS: ' + gl.getProgramParameter(program, gl.VALIDATE_STATUS),\n      'ERROR: ' + gl.getError()\n    );\n    return;\n  }\n  if (currentProgram) {\n    gl.deleteProgram(currentProgram);\n    setURL(fragment);\n  }\n  currentProgram = program;\n\n  // Cache uniforms\n  cacheUniformLocation(program, 'pixelSteps');\n  cacheUniformLocation(program, 'time');\n  cacheUniformLocation(program, 'offset');\n  cacheUniformLocation(program, 'resolution');\n  cacheUniformLocation(program, 'backbuffer');\n  cacheUniformLocation(program, 'surfaceSize');\n  cacheUniformLocation(program, 'pallete');\n  // Load program into GPU\n  gl.useProgram(currentProgram);\n  // Set up buffers\n  surface.positionAttribute = gl.getAttribLocation(\n    currentProgram,\n    'surfacePosAttrib'\n  );\n  gl.enableVertexAttribArray(surface.positionAttribute);\n  vertexPosition = gl.getAttribLocation(currentProgram, 'position');\n  gl.enableVertexAttribArray(vertexPosition);\n}\nfunction compileScreenProgram() {\n  if (!gl) {\n    return;\n  }\n  const program = gl.createProgram();\n  const vs = createShader(vertexShader, gl.VERTEX_SHADER);\n  const fs = createShader(screenFrag, gl.FRAGMENT_SHADER);\n  gl.attachShader(program, vs);\n  gl.attachShader(program, fs);\n  gl.deleteShader(vs);\n  gl.deleteShader(fs);\n  gl.linkProgram(program);\n  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n    console.error(\n      'VALIDATE_STATUS: ' + gl.getProgramParameter(program, gl.VALIDATE_STATUS),\n      'ERROR: ' + gl.getError()\n    );\n    return;\n  }\n  screenProgram = program;\n  gl.useProgram(screenProgram);\n  cacheUniformLocation(program, 'resolution');\n  cacheUniformLocation(program, 'texture');\n  screenVertexPosition = gl.getAttribLocation(screenProgram, 'position');\n  gl.enableVertexAttribArray(screenVertexPosition);\n}\nfunction cacheUniformLocation(program, label) {\n  if (program.uniformsCache === undefined) {\n    program.uniformsCache = {};\n  }\n\n  if (label === 'palette') {\n  }\n  program.uniformsCache[label] = gl.getUniformLocation(program, label);\n}\n\nfunction createTarget(width, height) {\n  const target = {};\n  target.framebuffer = gl.createFramebuffer();\n  target.renderbuffer = gl.createRenderbuffer();\n  target.texture = gl.createTexture();\n  // set up framebuffer\n  gl.bindTexture(gl.TEXTURE_2D, target.texture);\n  gl.texImage2D(\n    gl.TEXTURE_2D,\n    0,\n    gl.RGBA,\n    width,\n    height,\n    0,\n    gl.RGBA,\n    gl.UNSIGNED_BYTE,\n    null\n  );\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n  gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n  gl.bindFramebuffer(gl.FRAMEBUFFER, target.framebuffer);\n  gl.framebufferTexture2D(\n    gl.FRAMEBUFFER,\n    gl.COLOR_ATTACHMENT0,\n    gl.TEXTURE_2D,\n    target.texture,\n    0\n  );\n  // set up renderbuffer\n  gl.bindRenderbuffer(gl.RENDERBUFFER, target.renderbuffer);\n  gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, width, height);\n  gl.framebufferRenderbuffer(\n    gl.FRAMEBUFFER,\n    gl.DEPTH_ATTACHMENT,\n    gl.RENDERBUFFER,\n    target.renderbuffer\n  );\n  // clean up\n  gl.bindTexture(gl.TEXTURE_2D, null);\n  gl.bindRenderbuffer(gl.RENDERBUFFER, null);\n  gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n  return target;\n}\nfunction createRenderTargets() {\n  frontTarget = createTarget(parameters.screenWidth, parameters.screenHeight);\n  backTarget = createTarget(parameters.screenWidth, parameters.screenHeight);\n}\n\nfunction createShader(src, type) {\n  const shader = gl.createShader(type);\n  gl.shaderSource(shader, src);\n  gl.compileShader(shader);\n  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n    const error = gl.getShaderInfoLog(shader);\n    console.error(error);\n\n    return null;\n  }\n  return shader;\n}\n\nconst BIG_AREA = 1600 * 1100 * 1.5;\nconst MEDIUM_AREA = 1600 * 1100;\nfunction getScale() {\n  const area = window.innerWidth * window.innerHeight;\n\n  if (area > BIG_AREA) {\n    return 0.5;\n  }\n\n  if (area > MEDIUM_AREA) {\n    return 1;\n  }\n\n  if (PIXEL_RATIO === 1) {\n    return 1;\n  }\n\n  return PIXEL_RATIO * 0.8;\n}\n\nfunction onWindowResize() {\n  const scale = getScale();\n  const bgWrap = document.querySelector('.bg-wrapper');\n  const bgRect = bgWrap.getBoundingClientRect();\n  canvas.width = bgRect.width * scale;\n  canvas.height = bgRect.height * scale;\n\n  if (Math.abs(canvas.height - parameters.screenHeight) > 100) {\n    // ориентация или большой ресайз\n    // canvas.width = 6144;\n    // canvas.height = 3240;\n    parameters.screenWidth = canvas.width;\n    parameters.screenHeight = canvas.height;\n  }\n  computeSurfaceCorners();\n  if (gl) {\n    gl.viewport(0, 0, canvas.width, canvas.height);\n    createRenderTargets();\n  }\n}\nfunction render() {\n  if (!currentProgram) return;\n  parameters.time = Date.now() - parameters.startTime;\n  parameters.pixelSteps = Math.floor(\n    Math.max(10, window.innerHeight - window.scrollY)\n  );\n  // Set uniforms for custom shader\n  gl.useProgram(currentProgram);\n  gl.uniform1f(\n    currentProgram.uniformsCache['time'],\n    (parameters.time + parameters.timeOffset) / 200000\n  );\n  gl.uniform1f(\n    currentProgram.uniformsCache['pixelSteps'],\n    parameters.pixelSteps\n  );\n  gl.uniform2f(\n    currentProgram.uniformsCache['offset'],\n    parameters.offsetX,\n    parameters.offsetY\n  );\n  gl.uniform2f(\n    currentProgram.uniformsCache['resolution'],\n    parameters.screenWidth,\n    parameters.screenHeight\n  );\n  gl.uniform1i(currentProgram.uniformsCache['backbuffer'], 0);\n  gl.uniform2f(\n    currentProgram.uniformsCache['surfaceSize'],\n    surface.width,\n    surface.height\n  );\n  gl.bindBuffer(gl.ARRAY_BUFFER, surface.buffer);\n  gl.vertexAttribPointer(surface.positionAttribute, 2, gl.FLOAT, false, 0, 0);\n\n  gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n  gl.vertexAttribPointer(vertexPosition, 2, gl.FLOAT, false, 0, 0);\n  gl.activeTexture(gl.TEXTURE0);\n  gl.bindTexture(gl.TEXTURE_2D, backTarget.texture);\n  // Render custom shader to front buffer\n  gl.bindFramebuffer(gl.FRAMEBUFFER, frontTarget.framebuffer);\n  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n  gl.drawArrays(gl.TRIANGLES, 0, 6);\n  // Set uniforms for screen shader\n  gl.useProgram(screenProgram);\n  gl.uniform2f(\n    screenProgram.uniformsCache['resolution'],\n    parameters.screenWidth,\n    parameters.screenHeight\n  );\n  gl.uniform1i(screenProgram.uniformsCache['texture'], 1);\n  gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\n  gl.vertexAttribPointer(screenVertexPosition, 2, gl.FLOAT, false, 0, 0);\n\n  gl.activeTexture(gl.TEXTURE1);\n  gl.bindTexture(gl.TEXTURE_2D, frontTarget.texture);\n  // Render front buffer to screen\n  gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n  gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n  gl.drawArrays(gl.TRIANGLES, 0, 6);\n  // Swap buffers\n  [frontTarget, backTarget] = [backTarget, frontTarget];\n}\nconst stop = runWithFps(render, 30);\n\nlet stopScroll;\nfunction scrollTo(y, { duration = 300, ...options } = {}) {\n  if (stopScroll) {\n    stopScroll();\n  }\n\n  stopScroll = tweeen(\n    window.scrollY,\n    y,\n    y => {\n      window.scrollTo(0, y);\n    },\n    {\n      easing: eases.cubicOut,\n      duration,\n      ...options\n    }\n  );\n}\n\ndocument.querySelectorAll('.js-goto').forEach(link => {\n  link.addEventListener('click', e => {\n    const target = document.querySelector(link.getAttribute('href'));\n    if (target) {\n      e.preventDefault();\n      const rect = target.getBoundingClientRect();\n      scrollTo(rect.top, { duration: 800 });\n    }\n  });\n});\n\nlet animationDelay = 400;\nfunction prepareNode(node) {\n  if (node.nodeName === '#text') {\n    const partial = document.createElement('span');\n    partial.innerHTML = node.data.split('').map((char) => {\n      animationDelay += 30;\n      const html = `<span class=\"c\" style=\"animation-delay: ${animationDelay}ms\">${char}</span>`;\n      if ([',', '.', '!'].includes(char)) {\n        animationDelay += 200;\n      }\n      return html;\n    }).join('');\n    node.parentNode.insertBefore(partial, node.nextSibling);\n    node.parentNode.removeChild(node);\n  } else if (node.childNodes) {\n    node.childNodes.forEach(prepareNode);\n  }\n}\nconst wasAnimatedBefore = Boolean(Number(localStorage.getItem('wasAnimatedBefore') || 0));\nif (window.scrollY < 100 && !wasAnimatedBefore) {\n  prepareNode(document.querySelector('.header p'));\n  localStorage.setItem('wasAnimatedBefore', '1');\n}\nsetTimeout(() => {\n  document.querySelector('footer').style.opacity = 1;\n}, animationDelay + 200);\n\nconst content = document.querySelector('.content');\nconst handleScroll = () => {\n  const opacity = eases.cubicIn(\n    Math.min(\n      1,\n      (window.scrollY - window.innerHeight / 2.5) / (window.innerHeight / 2.5)\n    )\n  );\n  content.style.opacity = 1 - opacity;\n  bg.style.opacity = (1 - opacity) * 0.5;\n};\nwindow.addEventListener('scroll', handleScroll);\nhandleScroll();\n\nconst downloadLink = document.createElement('a');\ndocument.body.appendChild(downloadLink);\ndownloadLink.style = 'display: none';\nfunction downloadCanvas(fn) {\n  canvas.toBlob(blob => {\n    const url = URL.createObjectURL(blob);\n    downloadLink.href = url;\n    downloadLink.download = `${fn}.png`;\n    downloadLink.click();\n    URL.revokeObjectURL(url);\n  }, 'image/png');\n}\n\ndocument.querySelector('.download').addEventListener('click', () => {\n  downloadCanvas(`sunify-gold-${Date.now()}`);\n});\n\n// Handle hot module replacement\nif (module.hot) {\n  module.hot.dispose(() => {\n    if (stop) {\n      stop();\n    }\n  });\n}\n"]}